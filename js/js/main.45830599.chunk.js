(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,n){},31:function(e,t,n){e.exports=n(63)},36:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(27),l=n.n(r),o=(n(36),n(8)),u=n(0),i=n(11),s=n(10),p=n.n(s),f=(n(25),function(e){var t=e.url,n=Object(a.useState)(null),r=Object(i.a)(n,2),l=r[0],u=r[1],s=Object(a.useState)([]),f=Object(i.a)(s,2),m=f[0],d=f[1],E=function(){p.a.get("".concat(t,"/listpdf")).then(function(e){d(e.data.lists)})};Object(a.useEffect)(function(){E()},[]);return c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"header"},"Smartxchange PDF Viewer "),c.a.createElement("div",{className:"fileUpload"},c.a.createElement("input",{type:"file",name:"file",placeholder:"Upload PDF file",onChange:function(e){u(e.target.files[0])},accept:".pdf"}),c.a.createElement("button",{onClick:function(e){var n=new FormData;n.append("file",l),p.a.post("".concat(t,"/upload"),n,{}).then(function(e){E()})}},"Upload")),c.a.createElement("ul",null,m.map(function(e){return c.a.createElement("li",null,c.a.createElement(o.b,{key:e,to:{pathname:"/pdfviewer/".concat(e)}}," ",e," "))})))}),m=n(15),d=n.n(m),E=n(29),b=n(30),w=n.n(b),v=function(e){var t=e.url,n=Object(u.f)().slug,r=Object(a.useRef)(null),l=Object(a.useState)(null),o=Object(i.a)(l,2),s=o[0],f=o[1],m="".concat(t,"/").concat(n);console.log(t),Object(a.useEffect)(function(){w()({path:"/webviewer/lib",initialDoc:m},r.current).then(function(e){f(e)})},[]);var b=function(){var e=Object(E.a)(d.a.mark(function e(a){var c,r,l,o,u,i,f,m,E;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=s.docViewer,r=c.getDocument(),l=c.getAnnotationManager(),e.next=5,l.exportAnnotations();case 5:return o=e.sent,u={xfdfString:o},e.next=9,r.getFileData(u);case 9:i=e.sent,f=new Uint8Array(i),m=new Blob([f],{type:"application/pdf"}),(E=new FormData).append("blob",m,n),p.a.post("".concat(t,"/upload/"),E,{}).then(function(e){console.log(e.statusText),alert("file saved")});case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"header"},"Smartxchange PDF Viewer",c.a.createElement("button",{onClick:b},"SAVE")),c.a.createElement("div",{className:"webviewer",ref:r}))},h="http://34.207.169.182:3000";function g(){return c.a.createElement(o.a,null,c.a.createElement(u.c,null,c.a.createElement(u.a,{path:"/pdfviewer/:slug",component:function(){return c.a.createElement(v,{url:h})}}),c.a.createElement(u.a,{path:"/",component:function(){return c.a.createElement(f,{url:h})}})))}l.a.render(c.a.createElement(g,null),document.getElementById("root"))}},[[31,2,1]]]);
//# sourceMappingURL=main.45830599.chunk.js.map